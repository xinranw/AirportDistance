<!-- Create a web app that calculates the distance (in nautical miles) between two airports. The app should autocomplete the airports and should feature all airports in the US. Bonus: plot the trip on Google maps -->

<html lang="en">
<head>
  <title></title>
  <link rel="stylesheet" href="css/styles.css" type="text/css" media="screen"/>
  <!-- <link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'> -->
  <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>
</head>
<body>
  <main>
    <h1>How far are you flying?</h1>
    <p>
      Enter your airports of departure and arrival to find out how far your flight will be!
    </p>
    <form>
      <!-- <label for="origin">Origin:</label> -->
      <input name="from" type="text" placeholder="Origin" id="origin" class="location-input"/>
      <br>
      <!-- <label for="destination">Destination:</label> -->
      <input name="to" type="text" placeholder="Destination" id="destination" class="location-input"/>
      <input name="submit" type="button" id="button" value="Let's Go!"/>
      <label for="result">Distance (nmi): 
      </label>
      <span id="result"></span>
    </form>
  </main>
  
</body>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<script src="scripts/trip_model.js" type="text/javascript"></script>
<script src="scripts/view_controller.js" type="text/javascript"></script>
<script>
$(document).ready(function(){
  var viewController = new ViewController();
  var keys = [];
  
  var trip = new TripModel();
  $('#button').click(function(){
    origin = viewController.getInputValue('#origin')
    destination = viewController.getInputValue('#destination')
    originCoords = viewController.getCoords(origin)
    destinationCoords = viewController.getCoords(destination)
    viewController.setTripCoords(originCoords, destinationCoords, trip)
    ViewController.updateDistance($('#result'), trip.calculateDistance());
  })
  
  viewController.loadData('airports.json', function(){
    keys = viewController.getKeys();
    $( ".location-input" ).autocomplete({
      source: keys
    });
  })


})


</script>
</html>