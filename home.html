<!-- Create a web app that calculates the distance (in nautical miles) between two airports. The app should autocomplete the airports and should feature all airports in the US. Bonus: plot the trip on Google maps -->

<html lang="en">
<head>
  <title></title>
  <link rel="stylesheet" href="css/styles.css" type="text/css" media="screen"/>
</head>
<body>
  <form>
    <label for="origin">Origin:</label>
    <input name="from" type="text" id="origin" class="location_input"/>
    <label for="destination">Destination:</label>
    <input name="to" type="text" id="destination" class="location_input"/>
    <input name="submit" type="button" id="button" value="Submit"/>
  </form>
  <span>Distance: 
    <span id = "result"></span>
  </span>
</body>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<script src="scripts/trip_model.js" type="text/javascript"></script>
<script src="scripts/view_controller.js" type="text/javascript"></script>
<script>
$(document).ready(function(){
  var viewController = new ViewController();
  var keys = [];
  
  var trip = new TripModel();
  $('#button').click(function(){
    origin = viewController.getInputValue('#origin')
    destination = viewController.getInputValue('#destination')
    originCoords = viewController.getCoords(origin)
    destinationCoords = viewController.getCoords(destination)
    viewController.setTripCoords(originCoords, destinationCoords, trip)
    ViewController.updateDistance($('#result'), trip.calculateDistance());
  })
  
  viewController.loadData('airports.json', function(){
    keys = viewController.getKeys();
    $( ".location_input" ).autocomplete({
      source: keys
    });
  })


})


</script>
</html>